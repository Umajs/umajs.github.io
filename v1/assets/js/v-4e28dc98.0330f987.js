"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[736],{2045:(s,l,n)=>{n.r(l),n.d(l,{default:()=>js});var e=n(4386),a=n(1907);const o=(0,e._)("h1",{id:"路由-router",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#路由-router","aria-hidden":"true"},"#"),(0,e.Uk)(" 路由（Router）")],-1),r=(0,e._)("p",null,"路由主要用于确认如何响应客户端的请求，当用户访问一个地址时，需要找到指定的 controller 的指定方法对用户请求进行处理。确认一个请求主要对请求的两部分：路径和特定 HTTP 请求方法，进行判断。",-1),t=(0,e._)("h2",{id:"使用",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#使用","aria-hidden":"true"},"#"),(0,e.Uk)(" 使用")],-1),_=(0,e._)("p",null,"为了方便用户对路由的选择，Router 被作为参数的方式传入到 Uma 中。",-1),c=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { Router } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/router'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"const"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"uma"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"="),(0,e._)("span",{style:{color:"#C9D1D9"}}," Uma."),(0,e._)("span",{style:{color:"#D2A8FF"}},"instance"),(0,e._)("span",{style:{color:"#C9D1D9"}},"({")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  Router,")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  ROOT: __dirname,")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"})")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"uma."),(0,e._)("span",{style:{color:"#D2A8FF"}},"start"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#79C0FF"}},"8058"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br")])],-1),p=(0,e._)("h2",{id:"默认路由",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#默认路由","aria-hidden":"true"},"#"),(0,e.Uk)(" 默认路由")],-1),F=(0,e._)("p",null,[(0,e.Uk)("在"),(0,e._)("code",null,"Uma"),(0,e.Uk)("中默认所有 controller 的"),(0,e._)("code",null,"所有方法"),(0,e.Uk)("都可以被"),(0,e._)("code",null,"任何请求方式"),(0,e.Uk)("访问到，访问的地址为"),(0,e._)("code",null,"/${controller名称}/${方法名称}"),(0,e.Uk)("，我们对这种路由称之为"),(0,e._)("code",null,"默认路由"),(0,e.Uk)("。")],-1),y=(0,e._)("p",null,[(0,e.Uk)("例如在"),(0,e._)("code",null,"${URSA_ROOT}/controller"),(0,e.Uk)("目录下创建一个"),(0,e._)("code",null,"test.controller.ts"),(0,e.Uk)("：")],-1),i=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#8B949E"}},"// ${URSA_ROOT}/controller/test.controller.ts")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br")])],-1),D=(0,e._)("p",null,[(0,e.Uk)("在浏览器地址栏通过访问"),(0,e._)("code",null,"127.0.0.1:端口号/test/index"),(0,e.Uk)("就可以看到页面显示出"),(0,e._)("code",null,"this is test/index router"),(0,e.Uk)("。")],-1),u=(0,e._)("h2",{id:"path-修饰器",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#path-修饰器","aria-hidden":"true"},"#"),(0,e.Uk)(" @Path 修饰器")],-1),d=(0,e._)("p",null,[(0,e.Uk)("如果你不想通过默认路由的方式访问时，"),(0,e._)("code",null,"Uma"),(0,e.Uk)("提供了"),(0,e._)("code",null,"@Path修饰器"),(0,e.Uk)("来指定 controller 方法被访问的 URI 格式。")],-1),m=(0,e._)("blockquote",null,[(0,e._)("p",null,"可以装饰 class，作为跟路由，只装饰 class 不生效，必须和 method 装饰配合使用。装饰 class 只有能有一个 string 参数 可以装饰 method，没有根路由的时候直接作为路由使用，有根路由的时候和根路由组合使用"),(0,e._)("p",null,"export declare function Path(...args: [...string[]] | [TPathObjArgs]): Function;"),(0,e._)("p",null,"args 路由参数 eg:"),(0,e._)("p",null,"Path() // 仅在 class 有路由装饰时 装饰 method 使用"),(0,e._)("p",null,"Path('/p1')"),(0,e._)("p",null,"Path('/p1', 'p2')"),(0,e._)("p",null,"Path({ value: '/p1' })"),(0,e._)("p",null,"Path({ value: '/p1', method: RequestMethod.GET })"),(0,e._)("p",null,"Path({ value: ['/p1', '/p2'], method: RequestMethod.GET })"),(0,e._)("p",null,"Path({ value: ['/p1', '/p2'], method: [RequestMethod.GET, RequestMethod.POST] })")],-1),b=(0,e._)("h3",{id:"修饰-class",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#修饰-class","aria-hidden":"true"},"#"),(0,e.Uk)(" 修饰 class")],-1),A=(0,e._)("p",null,"@Path 修饰器除了能修饰方法外，还可以修饰 controller 的 class，被修饰后的 class，如果内层的方法同时也添加了 @Path 修饰器，那么该方法的访问路径将和 class 上的 @Path 指定路径合并使用。",-1),k=(0,e._)("p",null,"例如我们对上面创建的 test.controller.ts 文件做以下修改：",-1),h=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController, Path } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/page'"),(0,e._)("span",{style:{color:"#C9D1D9"}},") "),(0,e._)("span",{style:{color:"#8B949E"}},"// 根路由")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#8B949E"}},"// 路由： /page")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/home'"),(0,e._)("span",{style:{color:"#FFA657"}},") "),(0,e._)("span",{style:{color:"#8B949E"}},"// 路由： /page/home")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br")])],-1),C=(0,e._)("p",null,[(0,e.Uk)("在浏览器地址栏通过访问"),(0,e._)("code",null,"127.0.0.1:端口号/page/home"),(0,e.Uk)("就可以看到页面显示出"),(0,e._)("code",null,"this is test/index router"),(0,e.Uk)("。")],-1),U=(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e.Uk)("注意：作用在 class 上的@Path 不会影响默认路由，只会和方法上的 "),(0,e._)("code",null,"@Path"),(0,e.Uk)(" 修饰器合并使用，即在浏览器地址栏通过访问"),(0,e._)("code",null,"127.0.0.1:端口号/page/home"),(0,e.Uk)("可以看到页面显示出"),(0,e._)("code",null,"this is test/index router"),(0,e.Uk)("，但输入"),(0,e._)("code",null,"127.0.0.1:端口号/page/test"),(0,e.Uk)("会返回 Not Found。")]),(0,e._)("p",null,[(0,e.Uk)("同时，访问"),(0,e._)("code",null,"127.0.0.1:端口号/page"),(0,e.Uk)("也可以看到页面显示出"),(0,e._)("code",null,"this is test/index router")])],-1),g=(0,e._)("h3",{id:"修饰方法",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#修饰方法","aria-hidden":"true"},"#"),(0,e.Uk)(" 修饰方法")],-1),B=(0,e._)("p",null,"例如我们对上面创建的 test.controller.ts 文件做以下修改：",-1),x=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/home'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br")])],-1),P=(0,e._)("p",null,[(0,e.Uk)("在浏览器地址栏通过访问"),(0,e._)("code",null,"127.0.0.1:端口号/home"),(0,e.Uk)("就可以看到页面显示出"),(0,e._)("code",null,"this is test/index router"),(0,e.Uk)("，通过@Path 修饰器修饰过的方法访问时地址不加 Controller 名，即不是"),(0,e._)("code",null,"/test/home"),(0,e.Uk)("而是"),(0,e._)("code",null,"/home"),(0,e.Uk)("。")],-1),v=(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e.Uk)("注意：此时，在浏览器地址栏访问"),(0,e._)("code",null,"127.0.0.1:端口号/test/index"),(0,e.Uk)("就不能访问到 index 方法了，因为在"),(0,e._)("code",null,"Uma"),(0,e.Uk)("中，被@Path 修饰器修饰过的方法，不能再通过默认路由的方式访问。")])],-1),f=(0,e._)("h3",{id:"methodtype",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#methodtype","aria-hidden":"true"},"#"),(0,e.Uk)(" MethodType")],-1),j=(0,e._)("p",null,"在很多访问中，我们需要加入 MethodType 的限制，示例如下：",-1),T=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController, Path, RequestMethod } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"({ "),(0,e._)("span",{style:{color:"#C9D1D9"}},"value: "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/home'"),(0,e._)("span",{style:{color:"#FFA657"}},", "),(0,e._)("span",{style:{color:"#C9D1D9"}},"method: RequestMethod."),(0,e._)("span",{style:{color:"#79C0FF"}},"POST"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#FFA657"}},"})")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br")])],-1),R=(0,e._)("p",null,[(0,e.Uk)("在浏览器地址栏通过访问"),(0,e._)("code",null,"127.0.0.1:端口号/home"),(0,e.Uk)("会展示 NOT FOUND，这是因为限制了只能采用 POST 访问。")],-1),q=(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e.Uk)("注意：框架内置了 POST 请求处理 "),(0,e._)("code",null,"koa-body"),(0,e.Uk)("，如果需要开启，实例化 "),(0,e._)("code",null,"Uma"),(0,e.Uk)(" 时需要传入 "),(0,e._)("code",null,"bodyParse"),(0,e.Uk)(" 参数，并且安装 "),(0,e._)("code",null,"koa-body"),(0,e.Uk)(" 依赖")])],-1),E=(0,e._)("h3",{id:"指定多个路径",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#指定多个路径","aria-hidden":"true"},"#"),(0,e.Uk)(" 指定多个路径")],-1),O=(0,e._)("p",null,"同一个方法上允许设置多个 Path 路径。",-1),M=(0,e._)("p",null,"例如我们对上面创建的 test.controller.ts 文件做以下修改：",-1),Q=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController, Path } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/page'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/home'"),(0,e._)("span",{style:{color:"#FFA657"}},", "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/abc'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br")])],-1),w=(0,e._)("p",null,[(0,e.Uk)("在浏览器地址栏通过访问"),(0,e._)("code",null,"127.0.0.1:端口号/page/home"),(0,e.Uk)("或者"),(0,e._)("code",null,"127.0.0.1:端口号/page/abc"),(0,e.Uk)("都可以看到页面显示出"),(0,e._)("code",null,"this is test/index router"),(0,e.Uk)("。")],-1),S=(0,e._)("p",null,"也可以通过多个@Path 修饰器修饰的方式指定多个路径。",-1),N=(0,e._)("p",null,"例如我们对上面创建的 test.controller.ts 文件做以下修改：",-1),$=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController, Path } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/page'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/home'"),(0,e._)("span",{style:{color:"#FFA657"}},", "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/abc'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/test'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br")])],-1),z=(0,e._)("p",null,[(0,e.Uk)("在浏览器地址栏通过访问"),(0,e._)("code",null,"127.0.0.1:端口号/page/home"),(0,e.Uk)("或者"),(0,e._)("code",null,"127.0.0.1:端口号/page/abc"),(0,e.Uk)("或者"),(0,e._)("code",null,"127.0.0.1:端口号/page/test"),(0,e.Uk)("都可以看到页面显示出"),(0,e._)("code",null,"this is test/index router"),(0,e.Uk)("。")],-1),G=(0,e._)("p",null,"和方法不同，一个 class 只允许使用一个@Path 修饰器，同时一个@Path 修饰器只接收一个参数。",-1),Z=(0,e._)("p",null,"例如我们对上面创建的 test.controller.ts 文件做以下修改：",-1),H=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController, Path } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/page'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/tpl'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/home'"),(0,e._)("span",{style:{color:"#FFA657"}},", "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/abc'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/test'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br")])],-1),L=(0,e._)("p",null,[(0,e.Uk)("此时，只有最上面的"),(0,e._)("code",null,"@Path('/page')"),(0,e.Uk)("生效了，因为修饰器会先执行最接近自己的，@Path('/tpl')先被作用，但是@Path('/page')又将它覆盖了。")],-1),W=(0,e._)("p",null,[(0,e.Uk)("同样，如果你在 class 上设置"),(0,e._)("code",null,"@Path('/page', '/tpl')"),(0,e.Uk)("这种传入多个参数的格式，程序会报错，因为修饰 class 时，@Path 只接收一个参数。")],-1),I=(0,e._)("h3",{id:"正则匹配",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#正则匹配","aria-hidden":"true"},"#"),(0,e.Uk)(" 正则匹配")],-1),J=(0,e._)("p",null,[(0,e.Uk)("我们对上面这种直接使用具体字符串形式设置的路由称为"),(0,e._)("code",null,"静态路由"),(0,e.Uk)("，路径除了使用"),(0,e._)("code",null,"/home"),(0,e.Uk)("这种字符串的格式外，还支持使用正则形式，我们称之为"),(0,e._)("code",null,"正则路由"),(0,e.Uk)("。")],-1),Y=(0,e._)("p",null,"例如我们对上面创建的 test.controller.ts 文件做以下修改：",-1),K=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController, Path } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/page'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/:name'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br")])],-1),V=(0,e._)("p",null,[(0,e.Uk)("在浏览器地址栏通过访问"),(0,e._)("code",null,"127.0.0.1:端口号/page/任意字符"),(0,e.Uk)("都可以看到页面显示出"),(0,e._)("code",null,"this is test/index router"),(0,e.Uk)("。同时，我们可以通过"),(0,e._)("code",null,"@Param修饰器"),(0,e.Uk)("或者"),(0,e._)("code",null,"ctx.params"),(0,e.Uk)("的方式获取到当前"),(0,e._)("code",null,"name"),(0,e.Uk)("的值，@Param 修饰器会在后面介绍。")],-1),X=(0,e.Uk)("正则路由通过"),ss={href:"https://github.com/pillarjs/path-to-regexp",target:"_blank",rel:"noopener noreferrer"},ls=(0,e.Uk)("path-to-regexp"),ns=(0,e.Uk)("库进行匹配，具体格式格式参考 path-to-regexp 库。"),es=(0,e._)("h3",{id:"匹配顺序",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#匹配顺序","aria-hidden":"true"},"#"),(0,e.Uk)(" 匹配顺序")],-1),as=(0,e._)("p",null,[(0,e._)("code",null,"Uma"),(0,e.Uk)("会按照的指定顺序去匹配路由，当命中某一规则时，即进入该 controller 的方法中，了解匹配的顺序当我们设置了重复的路由时很有帮助。")],-1),os=(0,e._)("p",null,[(0,e._)("code",null,"Uma"),(0,e.Uk)("匹配路由的顺序如下：")],-1),rs=(0,e._)("p",null,[(0,e._)("img",{src:a,alt:"images"})],-1),ts=(0,e._)("p",null,"请求进来时，会先从静态路由中查找是否有匹配到的，没有的话会从正则路由中匹配是否有满足的，还未找到的话会按照静态路由的格式查找是否有匹配的，当这几种情况都不满足时，返回 Not Found。",-1),_s=(0,e._)("h3",{id:"path-扩展",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#path-扩展","aria-hidden":"true"},"#"),(0,e.Uk)(" Path 扩展")],-1),cs=(0,e.Uk)("框架在 "),ps=(0,e._)("code",null,"@Path",-1),Fs=(0,e.Uk)(" 装饰器的基础上还提供了一些其它快捷的路由装饰器 "),ys=(0,e.Uk)("@umajs/path"),is=(0,e._)("h2",{id:"param、-query-修饰器",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#param、-query-修饰器","aria-hidden":"true"},"#"),(0,e.Uk)(" @Param、@Query 修饰器")],-1),Ds=(0,e._)("p",null,[(0,e.Uk)("在上面的正则路由中我们提到过@Param 修饰器，"),(0,e._)("code",null,"Uma"),(0,e.Uk)("中提供了两种修饰器@Param 和@Query 来方便的获取请求中的参数")],-1),us=(0,e._)("p",null,"例如我们对上面创建的 test.controller.ts 文件做以下修改：",-1),ds=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController, Path } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/page'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/:name'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"(@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Param"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#FFA657"}},") name"),(0,e._)("span",{style:{color:"#FF7B72"}},":"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"string"),(0,e._)("span",{style:{color:"#FFA657"}},", @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Query"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#FFA657"}},") title"),(0,e._)("span",{style:{color:"#FF7B72"}},":"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"string"),(0,e._)("span",{style:{color:"#FFA657"}},") "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    console."),(0,e._)("span",{style:{color:"#D2A8FF"}},"log"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"`name: ${"),(0,e._)("span",{style:{color:"#C9D1D9"}},"name"),(0,e._)("span",{style:{color:"#A5D6FF"}},"}`"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    console."),(0,e._)("span",{style:{color:"#D2A8FF"}},"log"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"`title: ${"),(0,e._)("span",{style:{color:"#C9D1D9"}},"title"),(0,e._)("span",{style:{color:"#A5D6FF"}},"}`"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br")])],-1),ms=(0,e._)("p",null,[(0,e.Uk)("在浏览器中访问"),(0,e._)("code",null,"127.0.0.1:端口号/page/test?name=uma"),(0,e.Uk)("，我们可以看到控制台打印出：")],-1),bs=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"name: "),(0,e._)("span",{style:{color:"#79C0FF"}},"test")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"title: uma")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br")])],-1),As=(0,e._)("p",null,"@Param 和@Query 修饰器可以快捷的获取到请求中的 param 和 query 参数，@Param 传入的名称要和@Path 中设置的名称一致，@Query 传入的名称要和请求的 query 参数名称一致，才能正确获取到。",-1),ks=(0,e._)("p",null,"同时，使用@Param 和@Query 修饰器不区分参数顺序",-1),hs=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"-"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#C9D1D9"}},"(@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Param"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#C9D1D9"}},") name: string, @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Query"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#C9D1D9"}},") title: string)")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#8B949E"}},"// 参数顺序变化也可以正确获取")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"+"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#C9D1D9"}},"(@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Query"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#C9D1D9"}},") title: string, @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Param"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#C9D1D9"}},") name: string)")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br")])],-1),Cs=(0,e._)("p",null,[(0,e.Uk)("当然，除了通过@Param 和@Query 修饰器的方式获取参数外，"),(0,e._)("code",null,"Uma"),(0,e.Uk)("还保留了 koa 的参数获取方式，可以从上下文中获取：")],-1),Us=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController, Path } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/page'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/:name'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"(@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Param"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#FFA657"}},") name"),(0,e._)("span",{style:{color:"#FF7B72"}},":"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"string"),(0,e._)("span",{style:{color:"#FFA657"}},", @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Query"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#FFA657"}},") title"),(0,e._)("span",{style:{color:"#FF7B72"}},":"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"string"),(0,e._)("span",{style:{color:"#FFA657"}},") "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#8B949E"}},"// ====> 从ctx中获取参数")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    console."),(0,e._)("span",{style:{color:"#D2A8FF"}},"log"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},".ctx.param.name)")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    console."),(0,e._)("span",{style:{color:"#D2A8FF"}},"log"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},".ctx.query.title)")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br")])],-1),gs=(0,e._)("h2",{id:"private-修饰器",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#private-修饰器","aria-hidden":"true"},"#"),(0,e.Uk)(" @Private 修饰器")],-1),Bs=(0,e._)("p",null,[(0,e._)("code",null,"Uma"),(0,e.Uk)("默认所有 controller 方法都可以被访问到，如果你不想某个方法被访问时，可以通过@Private 修饰器修饰方法。")],-1),xs=(0,e._)("p",null,"例如我们对上面创建的 test.controller.ts 文件做以下修改：",-1),Ps=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"shiki",style:{"background-color":"#0d1117"}},[(0,e._)("code",null,[(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"import"),(0,e._)("span",{style:{color:"#C9D1D9"}}," { BaseController, Path, RequestMethod } "),(0,e._)("span",{style:{color:"#FF7B72"}},"from"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#A5D6FF"}},"'@umajs/core'")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/page'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FF7B72"}},"export"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"default"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#FF7B72"}},"class"),(0,e._)("span",{style:{color:"#FFA657"}}," Test "),(0,e._)("span",{style:{color:"#FF7B72"}},"extends"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"BaseController"),(0,e._)("span",{style:{color:"#FFA657"}}," {")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Path"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'/:name'"),(0,e._)("span",{style:{color:"#FFA657"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"index"),(0,e._)("span",{style:{color:"#FFA657"}},"(@"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Param"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#FFA657"}},") name"),(0,e._)("span",{style:{color:"#FF7B72"}},":"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"string"),(0,e._)("span",{style:{color:"#FFA657"}},", @"),(0,e._)("span",{style:{color:"#D2A8FF"}},"Query"),(0,e._)("span",{style:{color:"#FFA657"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'name'"),(0,e._)("span",{style:{color:"#FFA657"}},") title"),(0,e._)("span",{style:{color:"#FF7B72"}},":"),(0,e._)("span",{style:{color:"#FFA657"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"string"),(0,e._)("span",{style:{color:"#FFA657"}},") "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#8B949E"}},"// ====> 从ctx中获取参数")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    console."),(0,e._)("span",{style:{color:"#D2A8FF"}},"log"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},".ctx.param.name)")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    console."),(0,e._)("span",{style:{color:"#D2A8FF"}},"log"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},".ctx.query.title)")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#FF7B72"}},"return"),(0,e._)("span",{style:{color:"#C9D1D9"}}," "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/index router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"}),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  @"),(0,e._)("span",{style:{color:"#C9D1D9"}},"Private")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"  "),(0,e._)("span",{style:{color:"#D2A8FF"}},"test"),(0,e._)("span",{style:{color:"#FFA657"}},"() "),(0,e._)("span",{style:{color:"#C9D1D9"}},"{")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"    "),(0,e._)("span",{style:{color:"#79C0FF"}},"this"),(0,e._)("span",{style:{color:"#C9D1D9"}},"."),(0,e._)("span",{style:{color:"#D2A8FF"}},"send"),(0,e._)("span",{style:{color:"#C9D1D9"}},"("),(0,e._)("span",{style:{color:"#A5D6FF"}},"'this is test/test router'"),(0,e._)("span",{style:{color:"#C9D1D9"}},")")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#C9D1D9"}},"  }")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"},[(0,e._)("span",{style:{color:"#FFA657"}},"}")]),(0,e.Uk)("\n"),(0,e._)("span",{class:"line"})])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"17"),(0,e._)("br")])],-1),vs=(0,e._)("p",null,[(0,e.Uk)("此时，被@Private 修饰过的 test 方法，不能再通过"),(0,e._)("code",null,"/test/test"),(0,e.Uk)("的方式访问到。")],-1),fs={},js=(0,n(4110).Z)(fs,[["render",function(s,l){const n=(0,e.up)("OutboundLink"),a=(0,e.up)("RouterLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[o,r,t,_,c,p,F,y,i,D,u,d,m,b,A,k,h,C,U,g,B,x,P,v,f,j,T,R,q,E,O,M,Q,w,S,N,$,z,G,Z,H,L,W,I,J,Y,K,V,(0,e._)("p",null,[X,(0,e._)("a",ss,[ls,(0,e.Wm)(n)]),ns]),es,as,os,rs,ts,_s,(0,e._)("p",null,[cs,ps,Fs,(0,e.Wm)(a,{to:"/other/path.html"},{default:(0,e.w5)((()=>[ys])),_:1})]),is,Ds,us,ds,ms,bs,As,ks,hs,Cs,Us,gs,Bs,xs,Ps,vs],64)}]])},8805:(s,l,n)=>{n.r(l),n.d(l,{data:()=>e});const e={key:"v-4e28dc98",path:"/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Router.html",title:"路由（Router）",lang:"zh-CN",frontmatter:{head:[["meta",{property:"og:url",content:"/v1/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Router.html"}],["meta",{property:"og:site_name",content:"UMajs"}],["meta",{property:"og:title",content:"路由（Router）"}],["meta",{property:"og:type",content:"article"}],["meta",{property:"og:locale",content:"zh-CN"}],["meta",{property:"og:locale:alternate",content:"en-US"}],["meta",{name:"twitter:card",content:"summary_large_image"}],["meta",{name:"twitter:image:alt",content:"UMajs"}],["meta",{property:"article:author",content:"JiaZeng"}],["meta",{property:"og:restrictions:age",content:"3+"}],["meta",{name:"twitter:creator",content:"UMajs"}]]},excerpt:"",headers:[{level:2,title:"使用",slug:"使用",children:[]},{level:2,title:"默认路由",slug:"默认路由",children:[]},{level:2,title:"@Path 修饰器",slug:"path-修饰器",children:[{level:3,title:"修饰 class",slug:"修饰-class",children:[]},{level:3,title:"修饰方法",slug:"修饰方法",children:[]},{level:3,title:"MethodType",slug:"methodtype",children:[]},{level:3,title:"指定多个路径",slug:"指定多个路径",children:[]},{level:3,title:"正则匹配",slug:"正则匹配",children:[]},{level:3,title:"匹配顺序",slug:"匹配顺序",children:[]},{level:3,title:"Path 扩展",slug:"path-扩展",children:[]}]},{level:2,title:"@Param、@Query 修饰器",slug:"param、-query-修饰器",children:[]},{level:2,title:"@Private 修饰器",slug:"private-修饰器",children:[]}],filePathRelative:"基础功能/Router.md",git:{updatedTime:1630481998e3,contributors:[{name:"jiazengp",email:"jiazengp@gmail.com",commits:1}]}}},4110:(s,l)=>{l.Z=(s,l)=>{for(const[n,e]of l)s[n]=e;return s}},1907:(s,l,n)=>{s.exports=n.p+"assets/img/Router-rule.2b08d599.png"}}]);