<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta property="og:url" content="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html"><meta property="og:site_name" content="UMajs"><meta property="og:title" content="vue-ssr"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:locale:alternate" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="UMajs"><meta property="article:author" content="wuba"><meta property="og:restrictions:age" content="3+"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0,viewport-fit=cover"><meta name="origin" content="referrer"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta name="applicable-device" content="pc,mobile"><meta name="msapplication-titleColor" content="#ffffff"><meta name="apple-mobile-web-app-status-bar-style" content="lack-translucent"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="UMajs"><meta name="format-detection" content="telephone=no"><meta name="google" content="notranslate"><meta name="twitter:image" content="https://github.com/Umajs/Umajs/"><meta itemprop="image" content="https://github.com/Umajs/Umajs/"><link rel="manifest" href="/manifest.webmanifest"><link rel="apple-touch-icon" href="/favicon.ico"><link rel="shortcut icon" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#ffffff"><script crossOrigin="anonymous" src="https://polyfill.io/v3/polyfill.min.js?features=%7Ehtml5-elements%2CCSS.supports%2ClocalStorage%2Cdefault%2Ces6%2Ces2015%2Ces2016%2CElement.prototype.scroll%2CElement.prototype.scrollBy%2CglobalThis%2Cfetch%2CURLSearchParams"></script><title>vue-ssr | UMajs</title><meta name="description" content="一个简单易用、扩展灵活，基于TypeScript的Node.js Web框架">
    <link rel="preload" href="/v2/assets/js/runtime~app.7c7bbcd8.js" as="script"><link rel="preload" href="/v2/assets/css/styles.9956d9b2.css" as="style"><link rel="preload" href="/v2/assets/js/42.a7f24b1c.js" as="script"><link rel="preload" href="/v2/assets/js/app.574508d0.js" as="script">
    <link rel="stylesheet" href="/v2/assets/css/styles.9956d9b2.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/v2/" class=""><img class="logo" src="/v2/images/UMajsV2.png" alt="UMajs"><span class="site-name can-hide">UMajs</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/v2/新手指南/框架介绍.md" class="nav-link" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/v2/新手指南/快速开始.md" class="nav-link" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="SSR"><span class="title">SSR</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="SSR"><span class="title">SSR</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/v2/服务端渲染/React-ssr.md" class="nav-link" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/v2/服务端渲染/Vue-ssr.md" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="v2.x"><span class="title">v2.x</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="v2.x"><span class="title">v2.x</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://umajs.gitee.io/" rel="noopener noreferrer" target="_blank" aria-label="v1.x"><!--[--><!--]--> v1.x <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/v2/en/" class="nav-link" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Umajs/Umajs" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/v2/新手指南/框架介绍.md" class="nav-link" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/v2/新手指南/快速开始.md" class="nav-link" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="SSR"><span class="title">SSR</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="SSR"><span class="title">SSR</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/v2/服务端渲染/React-ssr.md" class="nav-link" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/v2/服务端渲染/Vue-ssr.md" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="v2.x"><span class="title">v2.x</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="v2.x"><span class="title">v2.x</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://umajs.gitee.io/" rel="noopener noreferrer" target="_blank" aria-label="v1.x"><!--[--><!--]--> v1.x <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="选择语言"><span class="title">选择语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/v2/en/" class="nav-link" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Umajs/Umajs" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">新手指南</p><ul class=""><li><!--[--><a href="/v2/%E6%96%B0%E6%89%8B%E6%8C%87%E5%8D%97/%E6%A1%86%E6%9E%B6%E4%BB%8B%E7%BB%8D.html" class="nav-link sidebar-item" aria-label="框架介绍"><!--[--><!--]--> 框架介绍 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/新手指南/Uma.md" class="nav-link sidebar-item" aria-label="Uma与Koa"><!--[--><!--]--> Uma与Koa <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E6%96%B0%E6%89%8B%E6%8C%87%E5%8D%97/%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B.html" class="nav-link sidebar-item" aria-label="快速开始"><!--[--><!--]--> 快速开始 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">基础功能</p><ul class=""><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Uma.html" class="nav-link sidebar-item" aria-label="Uma 对象"><!--[--><!--]--> Uma 对象 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Router.html" class="nav-link sidebar-item" aria-label="路由（Router）"><!--[--><!--]--> 路由（Router） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Controller.html" class="nav-link sidebar-item" aria-label="控制器（Controller）"><!--[--><!--]--> 控制器（Controller） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Result.html" class="nav-link sidebar-item" aria-label="统一返回（Result）"><!--[--><!--]--> 统一返回（Result） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Service.html" class="nav-link sidebar-item" aria-label="服务（Service）"><!--[--><!--]--> 服务（Service） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Plugin.html" class="nav-link sidebar-item" aria-label="插件（Plugin）"><!--[--><!--]--> 插件（Plugin） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/IOC.html" class="nav-link sidebar-item" aria-label="依赖注入（IOC）"><!--[--><!--]--> 依赖注入（IOC） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/AOP.html" class="nav-link sidebar-item" aria-label="面向切面（AOP）"><!--[--><!--]--> 面向切面（AOP） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Config.html" class="nav-link sidebar-item" aria-label="配置（Config）"><!--[--><!--]--> 配置（Config） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Middleware.html" class="nav-link sidebar-item" aria-label="中间件（Middleware）"><!--[--><!--]--> 中间件（Middleware） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E5%9F%BA%E7%A1%80%E5%8A%9F%E8%83%BD/Decorator.html" class="nav-link sidebar-item" aria-label="修饰器（Decorator）"><!--[--><!--]--> 修饰器（Decorator） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/other/ArgDecorator.html" class="nav-link sidebar-item" aria-label="内置参数装饰器（ArgDecorator）"><!--[--><!--]--> 内置参数装饰器（ArgDecorator） <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">插件</p><ul class=""><li><!--[--><a href="/v2/%E6%8F%92%E4%BB%B6/Status.html" class="nav-link sidebar-item" aria-label="状态（Status）"><!--[--><!--]--> 状态（Status） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E6%8F%92%E4%BB%B6/Static.html" class="nav-link sidebar-item" aria-label="静态资源（Static）"><!--[--><!--]--> 静态资源（Static） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E6%8F%92%E4%BB%B6/Views.html" class="nav-link sidebar-item" aria-label="模板引擎（Views）"><!--[--><!--]--> 模板引擎（Views） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E6%8F%92%E4%BB%B6/i18n.html" class="nav-link sidebar-item" aria-label="国际化（i18n）"><!--[--><!--]--> 国际化（i18n） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E6%8F%92%E4%BB%B6/Logger.html" class="nav-link sidebar-item" aria-label="日志（Logger）"><!--[--><!--]--> 日志（Logger） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E6%8F%92%E4%BB%B6/Session.html" class="nav-link sidebar-item" aria-label="会话（Session）"><!--[--><!--]--> 会话（Session） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E6%8F%92%E4%BB%B6/schedule.html" class="nav-link sidebar-item" aria-label="定时任务(schedule)"><!--[--><!--]--> 定时任务(schedule) <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E6%8F%92%E4%BB%B6/dev.html" class="nav-link sidebar-item" aria-label="插件开发"><!--[--><!--]--> 插件开发 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">其它</p><ul class=""><li><!--[--><a href="/v2/other/%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95.html" class="nav-link sidebar-item" aria-label="断点调试（Debugger）"><!--[--><!--]--> 断点调试（Debugger） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/other/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86.html" class="nav-link sidebar-item" aria-label="错误处理（ErrorHandler）"><!--[--><!--]--> 错误处理（ErrorHandler） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/%E6%8F%92%E4%BB%B6/Logger.html" class="nav-link sidebar-item" aria-label="日志（Logger）"><!--[--><!--]--> 日志（Logger） <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item active">服务端渲染</p><ul class=""><li><!--[--><a href="/v2/服务端渲染/React-ssr.md" class="nav-link sidebar-item" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/服务端渲染/Vue-ssr.md" class="nav-link sidebar-item active" aria-label="Vue2.0"><!--[--><!--]--> Vue2.0 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">项目升级</p><ul class=""><li><!--[--><a href="/v2/other/v1%E5%8D%87%E7%BA%A7.html" class="nav-link sidebar-item" aria-label="v1迁移指南"><!--[--><!--]--> v1迁移指南 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/other/%E6%B8%90%E8%BF%9B%E8%BF%81%E7%A7%BB.html" class="nav-link sidebar-item" aria-label="koa渐进迁移"><!--[--><!--]--> koa渐进迁移 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/v2/other/express%E5%8D%87%E7%BA%A7.html" class="nav-link sidebar-item" aria-label="express迁移"><!--[--><!--]--> express迁移 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--[--><nav class="vuepress-toc docs-anchor" style=""><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_1、插件介绍" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="1、插件介绍">1、插件介绍</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_2、特性" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="2、特性">2、特性</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_3、脚手架快速初始化项目-推荐" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="3、脚手架快速初始化项目[推荐]">3、脚手架快速初始化项目[推荐]</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_4、手动安装集成插件" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="4、手动安装集成插件">4、手动安装集成插件</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#插件安装" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="插件安装">插件安装</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#插件配置" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="插件配置">插件配置</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#目录结构" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="目录结构">目录结构</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#页面组件-app-vue" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="页面组件(App.vue)">页面组件(App.vue)</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#页面主入口文件-index-js" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="页面主入口文件(index.js)">页面主入口文件(index.js)</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_5、插件使用" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="5、插件使用">5、插件使用</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_6、插件-api" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="6、插件 API">6、插件 API</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_7、数据获取" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="7、数据获取">7、数据获取</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#服务端直出-props" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="服务端直出 Props">服务端直出 Props</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#服务端初直出-state" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="服务端初直出 State">服务端初直出 State</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#asyncdata-静态方法" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="asyncData 静态方法">asyncData 静态方法</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_8、seo-和-html" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="8、SEO 和 HTML">8、SEO 和 HTML</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#自定义-html" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="自定义 html">自定义 html</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#模板插值" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="模板插值">模板插值</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#支持全局-html" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="支持全局 HTML">支持全局 HTML</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_9、vuex" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="9、vuex">9、vuex</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#服务端初始化-state" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="服务端初始化 state">服务端初始化 state</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#页面组件获取状态" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="页面组件获取状态">页面组件获取状态</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_10、vue-router" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="10、vue-router">10、vue-router</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_11、内置-css-支持" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="11、内置 css 支持">11、内置 css 支持</a><!--[--><ul class="vuepress-toc-list"><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#scoped-css" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="Scoped CSS">Scoped CSS</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#预处理器-less-scss" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="预处理器 less/scss">预处理器 less/scss</a><!--[--><!--]--></li></ul><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_12、css-modules" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="12、CSS Modules">12、CSS Modules</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_13、案例" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="13、案例">13、案例</a><!--[--><!--]--></li><li class="vuepress-toc-item"><a aria-current="page" href="/v2/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93/Vue-ssr.html#_14、源码" class="router-link-active router-link-exact-active vuepress-toc-link" arialabel="14、源码">14、源码</a><!--[--><!--]--></li></ul></nav><!--]--><!--]--><div class="theme-default-content"><!--[--><h1 id="vue-ssr" tabindex="-1"><a class="header-anchor" href="#vue-ssr" aria-hidden="true">#</a> vue-ssr</h1><blockquote><p><code>Umajs-vue-ssr</code>是由<a href="https://github.com/Umajs/plugin-vue-ssr" target="_blank" rel="noopener noreferrer">@umajs/plugin-vue-ssr<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a> 搭配<a href="https://github.com/dazjean/Srejs" target="_blank" rel="noopener noreferrer">Srejs<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a>构建的轻量级，使用简单，灵活的<code>vue</code>服务端渲染解决方案;可以在<code>controller</code>和<code>middleware</code>中灵活使用,通过模板引擎式的语法对<code>vue</code>页面组件进行服务端渲染。</p></blockquote><h2 id="_1、插件介绍" tabindex="-1"><a class="header-anchor" href="#_1、插件介绍" aria-hidden="true">#</a> 1、插件介绍</h2><p><code>plugin-vue-ssr</code>插件扩展了<code>Umajs</code>中提供的统一返回处理<code>Result</code>对象，新增了<code>Result.vue</code>页面组件渲染方法，可在<code>controller</code>自由调用,使用类似传统模板引擎；也同时将方法挂载到了 koa 中间件中的<code>ctx</code>对象上；当一些公关的页面组件，比如 404、异常提示页面、登录或者需要在中间件中拦截跳转时可以在<code>middleware</code>中调用。</p><h2 id="_2、特性" tabindex="-1"><a class="header-anchor" href="#_2、特性" aria-hidden="true">#</a> 2、特性</h2><ul><li>不默认路由，不需区分前端路由和后端路由概念，且支持页面级组件 AB 测；<code>灵活</code></li><li>页面组件中没有<code>__isBrowser__</code>之类变量对<code>ssr</code>和<code>csr</code>模式进行特殊区分处理;<code>统一</code>。</li><li>自定义<code>HTML</code>采用<code>htmlWebpackPlugin</code>,没有<code>runtime</code>，页面响应速度更高;<code>高性能</code>。</li><li>支持<code>html</code>中使用<code>nunjucks</code>类模板引擎语法实现<code>SEO</code>；<code>易上手</code>。</li><li>页面开发不依赖框架包装的任何模块，保持原生的<code>vue</code>开发体验;<code>友好,易升级</code>。</li><li>数据获取提供服务端注入方式，页面视图渲染和数据加工分开处理；<code>逻辑更清晰</code>。</li><li>支持<code>SSR</code>和<code>CSR</code>动态调整，支持<code>SSR</code>缓存,降级。<code>高可用</code>。</li><li>支持其他<code>koa</code>开发框架使用。<code>可扩展</code>。</li><li>支持 MPA,各页面组件可单独构建，<code>可页面级更新</code>。</li></ul><h2 id="_3、脚手架快速初始化项目-推荐" tabindex="-1"><a class="header-anchor" href="#_3、脚手架快速初始化项目-推荐" aria-hidden="true">#</a> 3、脚手架快速初始化项目[推荐]</h2><blockquote><p>在 cli 中支持快速创建<code>umajs-vue-ssr</code>模板工程。</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">$ npm i @umajs/cli -g  // 安装cli工具</span></span>
<span class="line"><span style="color:#C9D1D9;">$ uma project umajs-vue-demo  //通过uma初始化工程，选择vue2.0模板工程</span></span>
<span class="line"><span style="color:#C9D1D9;">✔ loading template</span></span>
<span class="line"><span style="color:#FF7B72;">?</span><span style="color:#C9D1D9;"> please choise a template to create project (Use arrow keys)</span></span>
<span class="line"><span style="color:#C9D1D9;">  all,全套模板，包含部分代码示例</span></span>
<span class="line"><span style="color:#C9D1D9;">  mini,极简模板，仅有核心代码</span></span>
<span class="line"><span style="color:#C9D1D9;">  standard,标准模板，不包含示例代码</span></span>
<span class="line"><span style="color:#C9D1D9;">  react,umajs-react-ssr模板，包含示例代码</span></span>
<span class="line"><span style="color:#C9D1D9;">❯ vue2.0,umajs-vue-ssr模板，包含示例代码</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>依赖安装和启动</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">cd umajs-vue-demo
yarn install
yarn start

</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_4、手动安装集成插件" tabindex="-1"><a class="header-anchor" href="#_4、手动安装集成插件" aria-hidden="true">#</a> 4、手动安装集成插件</h2><h3 id="插件安装" tabindex="-1"><a class="header-anchor" href="#插件安装" aria-hidden="true">#</a> 插件安装</h3><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;"> yarn add @umajs/plugin-vue-ssr --save
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>打开 <code>package.json</code> 文件并添加 <code>scripts</code> 配置段：</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">&quot;scripts&quot;: {
    &quot;start&quot;:&#39;node app.js&#39;,
    &quot;build&quot;:&quot;npx ssr build&quot;,
    &quot;analyzer&quot;: &quot;npx ssr analyzer&quot;,
},
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>start</code> 启动你的 node 项目</li><li><code>build</code> 运行<code>npx ssr build</code>构建用于生产环境的应用程序，Srejs 为多项目工程目录结构，可通过指定页面标识单独构建或者启动特定页面，命令为：<code>npm run build xxx</code></li><li><code>analyzer</code> 运行<code>npx ssr analyzer</code> 用于分析页面组件打包依赖分析 可通过 <code>npm run analyzer xxx</code> xxx 为页面组件标识，可指定分析某个页面组件打包结果</li></ul><h3 id="插件配置" tabindex="-1"><a class="header-anchor" href="#插件配置" aria-hidden="true">#</a> 插件配置</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#8B949E;">// plugin.config.ts</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> &lt;{ [key</span><span style="color:#FF7B72;">:</span><span style="color:#FFA657;"> </span><span style="color:#79C0FF;">string</span><span style="color:#FFA657;">]</span><span style="color:#FF7B72;">:</span><span style="color:#FFA657;"> TPluginConfig }&gt;{</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">vue: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    enable: </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">    options: {</span></span>
<span class="line"><span style="color:#C9D1D9;">      rootDir: </span><span style="color:#A5D6FF;">&#39;web&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#8B949E;">// 客户端页面组件根文件夹</span></span>
<span class="line"><span style="color:#C9D1D9;">      rootNode: </span><span style="color:#A5D6FF;">&#39;app&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#8B949E;">// 客户端页面挂载根元素ID</span></span>
<span class="line"><span style="color:#C9D1D9;">      ssr: </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">, </span><span style="color:#8B949E;">// 全局开启服务端渲染</span></span>
<span class="line"><span style="color:#C9D1D9;">      cache: </span><span style="color:#79C0FF;">false</span><span style="color:#C9D1D9;">, </span><span style="color:#8B949E;">// 全局使用服务端渲染缓存 开发环境设置true无效</span></span>
<span class="line"><span style="color:#C9D1D9;">      prefixCDN: </span><span style="color:#A5D6FF;">&#39;/&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#8B949E;">// 客户端代码部署CDN前缀</span></span>
<span class="line"><span style="color:#C9D1D9;">    },</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="目录结构" tabindex="-1"><a class="header-anchor" href="#目录结构" aria-hidden="true">#</a> 目录结构</h3><p>框架默认配置属性<code>rootDir</code>默认为根目录下<code>web</code>，pages 下是页面组件入口，比如<code>list</code>页面，vue 主入口文件为<code>list/index.js</code>，页面组件为<code>list/App.vue</code></p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#c9d1d9;">└── web
    └── pages
        └── list
            ├── App.vue
            ├── index.js
</span></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="页面组件-app-vue" tabindex="-1"><a class="header-anchor" href="#页面组件-app-vue" aria-hidden="true">#</a> 页面组件(App.vue)</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">&lt;!--vue2.0版本APP.vue必须要设置根元素--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;app&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">h1</span><span style="color:#C9D1D9;">&gt;{{ msg }}&lt;/</span><span style="color:#7EE787;">h1</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">name: </span><span style="color:#A5D6FF;">&#39;app&#39;</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#D2A8FF;">data</span><span style="color:#FFA657;">() </span><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">      msg: </span><span style="color:#A5D6FF;">&#39;hi vue ssr!&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="页面主入口文件-index-js" tabindex="-1"><a class="header-anchor" href="#页面主入口文件-index-js" aria-hidden="true">#</a> 页面主入口文件(index.js)</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> App </span><span style="color:#FF7B72;">from</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;./App.vue&#39;</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">App</span><span style="color:#FFA657;">, </span><span style="color:#8B949E;">// 必须导出App</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">Router</span><span style="color:#FFA657;">, </span><span style="color:#8B949E;">//如使用vue-router 导出路由配置对象</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">Store</span><span style="color:#FFA657;">, </span><span style="color:#8B949E;">//如使用vuex 导出store对象</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>Pages</code>下按照文件夹名称定义 vue 页面组件，每一个页面组件必须包含<code>inde.js</code>主入口文件,文件必须导出组件<code>App</code>。如果使用<code>vue-router</code>,则将路由配置导出为<code>Router</code>对象；当使用<code>vuex</code>时，则将初始化配置导出为<code>Store</code>。</p><h2 id="_5、插件使用" tabindex="-1"><a class="header-anchor" href="#_5、插件使用" aria-hidden="true">#</a> 5、插件使用</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> { BaseController, Path } </span><span style="color:#FF7B72;">from</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;@umajs/core&#39;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> { Result } </span><span style="color:#FF7B72;">from</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;../plugins/vue-ssr&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">class</span><span style="color:#FFA657;"> Index </span><span style="color:#FF7B72;">extends</span><span style="color:#FFA657;"> </span><span style="color:#79C0FF;">BaseController</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  @</span><span style="color:#D2A8FF;">Path</span><span style="color:#FFA657;">(</span><span style="color:#A5D6FF;">&#39;/&#39;</span><span style="color:#FFA657;">)</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#D2A8FF;">index</span><span style="color:#FFA657;">() </span><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> Result.</span><span style="color:#D2A8FF;">vue</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;index&#39;</span><span style="color:#C9D1D9;">, { title: </span><span style="color:#A5D6FF;">&#39;umajs-vue-ssr&#39;</span><span style="color:#C9D1D9;"> })</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_6、插件-api" tabindex="-1"><a class="header-anchor" href="#_6、插件-api" aria-hidden="true">#</a> 6、插件 API</h2><blockquote><p>插件扩展了<code>Umajs</code>中提供的统一返回处理<code>Result</code>方法，新增了<code>vue</code>页面组件可在<code>controller</code>自由调用,方式类似传统模板引擎使用方法；也同时将方法挂载到了 koa 中间件中的<code>ctx</code>对象上；当一些公关的页面组件，比如 404、异常提示页面、登录或者需要在中间件中拦截跳转时可以在<code>middleware</code>中调用。</p></blockquote><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#FF7B72;">interface</span><span style="color:#C9D1D9;"> </span><span style="color:#FFA657;">TviewOptions</span><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FFA657;">ssr</span><span style="color:#FF7B72;">?:</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">boolean</span><span style="color:#C9D1D9;">, </span><span style="color:#8B949E;">// 全局开启服务端渲染</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FFA657;">cache</span><span style="color:#FF7B72;">?:</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">boolean</span><span style="color:#C9D1D9;">, </span><span style="color:#8B949E;">// 全局使用服务端渲染缓存</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">Result.</span><span style="color:#D2A8FF;">vue</span><span style="color:#C9D1D9;">(viewName:string,initProps</span><span style="color:#FF7B72;">?:</span><span style="color:#C9D1D9;">object,options</span><span style="color:#FF7B72;">?:</span><span style="color:#C9D1D9;">TviewOptions);</span></span>
<span class="line"><span style="color:#C9D1D9;">ctx.</span><span style="color:#D2A8FF;">vue</span><span style="color:#C9D1D9;">(viewName:string,initProps</span><span style="color:#FF7B72;">?:</span><span style="color:#C9D1D9;">object,options</span><span style="color:#FF7B72;">?:</span><span style="color:#C9D1D9;">TviewOptions);</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><em>如果 options 参数传递为空 则默认会使用全局配置属性，全局配置采用插件集成时传递的 options 参数</em></p><p><strong>注意</strong> <code>cache</code>只在<code>生产环境</code>开启有效。</p><h2 id="_7、数据获取" tabindex="-1"><a class="header-anchor" href="#_7、数据获取" aria-hidden="true">#</a> 7、数据获取</h2><blockquote><p>在<code>Pages</code>页面中，vue 页面组件获取数据有两种形式；我们分为服务端直出数据(Props 和 State)和 vue 组件静态方法<code>asyncData</code>获取两种形式。我们可以通过这两种方式对服务端渲染时首次页面渲染进行数据填充，使得服务端渲染时能返回完整的 DOM 结构，提高用户体验和更利于<code>SEO</code>.</p></blockquote><h3 id="服务端直出-props" tabindex="-1"><a class="header-anchor" href="#服务端直出-props" aria-hidden="true">#</a> 服务端直出 Props</h3><blockquote><p>框架在服务端提供了页面组件的渲染函数<code>Result.vue</code>,在调用函数渲染时我们可以在 initProps 参数中传递初始化的数据对象；这些数据可以在创建 vue 实例时会注册为组件实例的 Props 参数。在页面组件中我们可以将其定义为 Props。 <a href="https://cn.vuejs.org/v2/guide/components-props.html" target="_blank" rel="noopener noreferrer">了解 vue 组件 Props<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">Result.</span><span style="color:#D2A8FF;">vue</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;list&#39;</span><span style="color:#C9D1D9;">, {</span></span>
<span class="line"><span style="color:#C9D1D9;">  title: </span><span style="color:#A5D6FF;">&#39;xxx&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  keywords: </span><span style="color:#A5D6FF;">&#39;xxx&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  description: </span><span style="color:#A5D6FF;">&#39;xxxx&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  say: </span><span style="color:#A5D6FF;">&#39;hi!&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>在页面组件中我们可以直接通过 Props 将服务端直出的数据在 vue 模板中使用。</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">&lt;!--vue2.0版本APP.vue必须要设置根元素--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;app&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">h1</span><span style="color:#C9D1D9;">&gt;{{ title }}&lt;/</span><span style="color:#7EE787;">h1</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;{{ say }}&lt;/</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">name: </span><span style="color:#A5D6FF;">&#39;app&#39;</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">props: [</span><span style="color:#A5D6FF;">&#39;say&#39;</span><span style="color:#C9D1D9;">, </span><span style="color:#A5D6FF;">&#39;title&#39;</span><span style="color:#C9D1D9;">]</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>**特别说明：**在<code>initProps</code>参数中，<code>title,keywords,description</code>还会默认被解析为 web 网页头中的 标题，关键字，描述填充。</p><h3 id="服务端初直出-state" tabindex="-1"><a class="header-anchor" href="#服务端初直出-state" aria-hidden="true">#</a> 服务端初直出 State</h3><blockquote><p>在 initProps 对象中，框架会默认将 State 属性初始化为 store 实例。从根组件“注入”到每一个子组件中。</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">Result.</span><span style="color:#D2A8FF;">vue</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;list&#39;</span><span style="color:#C9D1D9;">, {</span></span>
<span class="line"><span style="color:#C9D1D9;">  title: </span><span style="color:#A5D6FF;">&#39;xxx&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  keywords: </span><span style="color:#A5D6FF;">&#39;xxx&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  description: </span><span style="color:#A5D6FF;">&#39;xxxx&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  state: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    say: </span><span style="color:#A5D6FF;">&#39;hi!&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">  },</span></span>
<span class="line"><span style="color:#C9D1D9;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>我们可以直接在 <code>Vue</code> 任意组件中直接获得 <code>Vuex</code> 状态。获取方式为<code>this.$store.state</code>。</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">&lt;!--vue2.0版本APP.vue必须要设置根元素--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;app&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">h1</span><span style="color:#C9D1D9;">&gt;{{ title }}&lt;/</span><span style="color:#7EE787;">h1</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;{{ say }}&lt;/</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">name: </span><span style="color:#A5D6FF;">&#39;app&#39;</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">props: [</span><span style="color:#A5D6FF;">&#39;title&#39;</span><span style="color:#C9D1D9;">]</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#D2A8FF;">data</span><span style="color:#C9D1D9;">: () </span><span style="color:#FF7B72;">=&gt;</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">      say: </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.$store.state.say,</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>由于 Vuex 的状态存储是响应式的，从 store 实例中可以在计算属性中返回某个状态。</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">name: </span><span style="color:#A5D6FF;">&#39;app&#39;</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">props: [</span><span style="color:#A5D6FF;">&#39;title&#39;</span><span style="color:#C9D1D9;">]</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">computed: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#D2A8FF;">say</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.$store.state.say</span></span>
<span class="line"><span style="color:#C9D1D9;">    },</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>更多获取 Vuex 状态的使用方法可查看官方文档<a href="https://vuex.vuejs.org/zh/guide/state.html" target="_blank" rel="noopener noreferrer">Vuex<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></strong></p><h3 id="asyncdata-静态方法" tabindex="-1"><a class="header-anchor" href="#asyncdata-静态方法" aria-hidden="true">#</a> asyncData 静态方法</h3><blockquote><p><code>asyncData</code>是页面组件数据获取的钩子，<code>只能作用于页面</code>。其接收对象参数默认是<code>vuex</code>的<code>store</code>和当前<code>router</code>,通过<code>router</code>可以获取到当前路由的参数等数据，然后调用异步请求获取 http 类型的数据，然后通过<code>store</code>触发状态管理的更新,也可直接改写操作<code>store.state</code>属性。框架会合并到<code>store</code>数据上下文<code>state</code>中。</p></blockquote><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">name: </span><span style="color:#A5D6FF;">&#39;app&#39;</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#D2A8FF;">data</span><span style="color:#FFA657;">() </span><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">      msg: </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.$store.state.msg,</span></span>
<span class="line"><span style="color:#C9D1D9;">    }</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#FF7B72;">async</span><span style="color:#FFA657;"> </span><span style="color:#D2A8FF;">asyncData</span><span style="color:#FFA657;">({ store, route }) </span><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// store.state.msg = &#39;about来自asyncData的数据&#39;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">// 触发 action 后，会返回 Promise</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> store.</span><span style="color:#D2A8FF;">dispatch</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;fetchItem&#39;</span><span style="color:#C9D1D9;">, route.params.id)</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>asyncData</strong>灵感来自官方<a href="https://ssr.vuejs.org/zh/guide/data.html#%E6%95%B0%E6%8D%AE%E9%A2%84%E5%8F%96%E5%AD%98%E5%82%A8%E5%AE%B9%E5%99%A8-data-store" target="_blank" rel="noopener noreferrer">vue-ssr 示例<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a>和<a href="https://zh.nuxtjs.org/docs/2.x/features/data-fetching#async-data" target="_blank" rel="noopener noreferrer">nuxtjs<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a>。</p><h2 id="_8、seo-和-html" tabindex="-1"><a class="header-anchor" href="#_8、seo-和-html" aria-hidden="true">#</a> 8、SEO 和 HTML</h2><blockquote><p>在<code>initProps</code>中通过,默认接收<code>title,keywords,description</code>作为页面标题，关键字，网页描述填充字段。</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">Result.</span><span style="color:#D2A8FF;">vue</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;list&#39;</span><span style="color:#C9D1D9;">, { title: </span><span style="color:#A5D6FF;">&#39;xxx&#39;</span><span style="color:#C9D1D9;">, keywords: </span><span style="color:#A5D6FF;">&#39;xxx&#39;</span><span style="color:#C9D1D9;">, description: </span><span style="color:#A5D6FF;">&#39;xxxx&#39;</span><span style="color:#C9D1D9;"> })</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="自定义-html" tabindex="-1"><a class="header-anchor" href="#自定义-html" aria-hidden="true">#</a> 自定义 html</h3><blockquote><p>框架内置<code>HTMLWebpackPlugin</code>插件，开发者在页面组件同级目录下可以覆盖默认 html 模板自定义引入第三方资源和脚本。自定义 html 文件名为页面下的<code>index.html</code>。</p></blockquote><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#8B949E;">&lt;!-- web/pages/index/index.html --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;!</span><span style="color:#7EE787;">DOCTYPE</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">html</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">html</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">head</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">http-equiv</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;Content-Type&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;text/html; charset=UTF-8&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">charset</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;utf-8&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;viewport&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width&quot;</span></span>
<span class="line"><span style="color:#C9D1D9;">    /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;format-detection&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;telephone=no&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;format-detection&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;email=no&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;format-detection&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;address=no;&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;apple-mobile-web-app-capable&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;yes&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">meta</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">name</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;apple-mobile-web-app-status-bar-style&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">content</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;default&quot;</span><span style="color:#C9D1D9;"> /&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">title</span><span style="color:#C9D1D9;">&gt;vue ssr&lt;/</span><span style="color:#7EE787;">title</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!-- 引入第三方组件库样式 --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">head</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">body</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--vue-ssr-outlet--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">body</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#8B949E;">&lt;!-- 引入第三方sdk脚本 --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">html</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="模板插值" tabindex="-1"><a class="header-anchor" href="#模板插值" aria-hidden="true">#</a> 模板插值</h3><p>在 html 模板中，还可以使用模板插值。服务端渲染初始化时传递的<code>initProps</code>数据在服务端渲染时会被注入为<code>渲染上下文对象</code>。</p><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">html</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">head</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!-- 使用双花括号(double-mustache)进行 HTML 转义插值(HTML-escaped interpolation) --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">title</span><span style="color:#C9D1D9;">&gt;{{ title }}&lt;/</span><span style="color:#7EE787;">title</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!-- 使用三花括号(triple-mustache)进行 HTML 不转义插值(non-HTML-escaped interpolation) --&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    {{{ meta }}}</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">head</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">body</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#8B949E;">&lt;!--vue-ssr-outlet--&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">body</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">html</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="支持全局-html" tabindex="-1"><a class="header-anchor" href="#支持全局-html" aria-hidden="true">#</a> 支持全局 HTML</h3><p>为满足业务引入第三方脚本也提供了以下方式自定义 html 模板。</p><ul><li><code>web/pages/xxx/index.html</code>（局部页面生效）</li><li><code>web/index.html</code>（全局生效）</li></ul><p><strong>优先级</strong><code>web/pages/xxx/index.html</code> &gt; <code>web/index.html</code></p><h2 id="_9、vuex" tabindex="-1"><a class="header-anchor" href="#_9、vuex" aria-hidden="true">#</a> 9、vuex</h2><blockquote><p>当项目比较复杂时，我们可以在页面组件入口文件中导出 Vuex store 对象。框架会自动从根页面组件注入 vue 子组件中，通过$store 访问到实例化后的 store。</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> App </span><span style="color:#FF7B72;">from</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;./App.vue&#39;</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">App</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">Store: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    state: {</span></span>
<span class="line"><span style="color:#C9D1D9;">      count: </span><span style="color:#79C0FF;">100</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">    },</span></span>
<span class="line"><span style="color:#C9D1D9;">    mutations: {</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#D2A8FF;">increment</span><span style="color:#C9D1D9;">: (</span><span style="color:#FFA657;">state</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">=&gt;</span><span style="color:#C9D1D9;"> state.count</span><span style="color:#FF7B72;">++</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#D2A8FF;">decrement</span><span style="color:#C9D1D9;">: (</span><span style="color:#FFA657;">state</span><span style="color:#C9D1D9;">) </span><span style="color:#FF7B72;">=&gt;</span><span style="color:#C9D1D9;"> state.count</span><span style="color:#FF7B72;">--</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">    },</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>框架接收到 Store 对象后，会实例化 vuex。并且初始化到 vue 实例中,通过 vue.use 注入到全局。对于初始化的 state 数据，如果在 initProps 中也传入同名的属性，则 initProps.state 将会覆盖主入口文件传入 store.state 中的属性值。</p><h3 id="服务端初始化-state" tabindex="-1"><a class="header-anchor" href="#服务端初始化-state" aria-hidden="true">#</a> 服务端初始化 state</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">Result.</span><span style="color:#D2A8FF;">vue</span><span style="color:#C9D1D9;">(ctx, </span><span style="color:#A5D6FF;">&#39;vuex&#39;</span><span style="color:#C9D1D9;">, { state: { count: </span><span style="color:#79C0FF;">200</span><span style="color:#C9D1D9;"> } })</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="页面组件获取状态" tabindex="-1"><a class="header-anchor" href="#页面组件获取状态" aria-hidden="true">#</a> 页面组件获取状态</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">id</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;app&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;{{ count }}&lt;/</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">      &lt;</span><span style="color:#7EE787;">button</span><span style="color:#C9D1D9;"> @</span><span style="color:#79C0FF;">click</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;</span><span style="color:#C9D1D9;">increment</span><span style="color:#A5D6FF;">&quot;</span><span style="color:#C9D1D9;">&gt;+&lt;/</span><span style="color:#7EE787;">button</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">      &lt;</span><span style="color:#7EE787;">button</span><span style="color:#C9D1D9;"> @</span><span style="color:#79C0FF;">click</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;</span><span style="color:#C9D1D9;">decrement</span><span style="color:#A5D6FF;">&quot;</span><span style="color:#C9D1D9;">&gt;-&lt;/</span><span style="color:#7EE787;">button</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    &lt;/</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">div</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">name: </span><span style="color:#A5D6FF;">&#39;vuex&#39;</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">computed: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#D2A8FF;">count</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#FF7B72;">return</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.$store.state.count</span></span>
<span class="line"><span style="color:#C9D1D9;">    },</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">methods: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#D2A8FF;">increment</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.$store.</span><span style="color:#D2A8FF;">commit</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;increment&#39;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    },</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#D2A8FF;">decrement</span><span style="color:#C9D1D9;">() {</span></span>
<span class="line"><span style="color:#C9D1D9;">      </span><span style="color:#79C0FF;">this</span><span style="color:#C9D1D9;">.$store.</span><span style="color:#D2A8FF;">commit</span><span style="color:#C9D1D9;">(</span><span style="color:#A5D6FF;">&#39;decrement&#39;</span><span style="color:#C9D1D9;">)</span></span>
<span class="line"><span style="color:#C9D1D9;">    },</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>最后展示到页面上的<code>count</code>初始值为：<code>200</code></p><h2 id="_10、vue-router" tabindex="-1"><a class="header-anchor" href="#_10、vue-router" aria-hidden="true">#</a> 10、vue-router</h2><blockquote><p>当 vue 页面组件需要和 vue-router 结合开发单页面应用时，在入口文件中我们也可以通过 Router 属性导出路由配置。</p></blockquote><ul><li>客户端页面组件入口文件路由配置</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> App </span><span style="color:#FF7B72;">from</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;./App.vue&#39;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> About </span><span style="color:#FF7B72;">from</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;./about.vue&#39;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> Home </span><span style="color:#FF7B72;">from</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;./home.vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">App</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#C9D1D9;">Router: {</span></span>
<span class="line"><span style="color:#C9D1D9;">    mode: </span><span style="color:#A5D6FF;">&#39;history&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">    fallback: </span><span style="color:#79C0FF;">false</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">    base: </span><span style="color:#A5D6FF;">&#39;/index/&#39;</span><span style="color:#C9D1D9;">,</span></span>
<span class="line"><span style="color:#C9D1D9;">    </span><span style="color:#D2A8FF;">scrollBehavior</span><span style="color:#C9D1D9;">: () </span><span style="color:#FF7B72;">=&gt;</span><span style="color:#C9D1D9;"> ({ y: </span><span style="color:#79C0FF;">0</span><span style="color:#C9D1D9;"> }),</span></span>
<span class="line"><span style="color:#C9D1D9;">    routes: [</span></span>
<span class="line"><span style="color:#C9D1D9;">      { path: </span><span style="color:#A5D6FF;">&#39;/about&#39;</span><span style="color:#C9D1D9;">, props: </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">, component: About },</span></span>
<span class="line"><span style="color:#C9D1D9;">      { path: </span><span style="color:#A5D6FF;">&#39;/home&#39;</span><span style="color:#C9D1D9;">, props: </span><span style="color:#79C0FF;">true</span><span style="color:#C9D1D9;">, component: Home },</span></span>
<span class="line"><span style="color:#C9D1D9;">      { path: </span><span style="color:#A5D6FF;">&#39;/&#39;</span><span style="color:#C9D1D9;">, redirect: </span><span style="color:#A5D6FF;">&#39;/home&#39;</span><span style="color:#C9D1D9;"> },</span></span>
<span class="line"><span style="color:#C9D1D9;">    ],</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><strong>注意：服务端渲染模式下不支持使用 import 动态导入组件方式进行路由懒加载</strong></p><ul><li>服务端路由</li></ul><blockquote><p>对于服务端我们需要保持客户端和服务端路由一致，否则会出现子路由页面刷新<code>404</code>现象。</p></blockquote><ul><li>页面路由获取数据</li></ul><blockquote><p>在页面组件中页面数据获取方式和普通页面组件保持一致，我们可以使用服务端渲染 props 直出和 asyncData 钩子函数两种方式获取，具体使用参考<code>数据获取</code>章节。</p></blockquote><h2 id="_11、内置-css-支持" tabindex="-1"><a class="header-anchor" href="#_11、内置-css-支持" aria-hidden="true">#</a> 11、内置 css 支持</h2><blockquote><p>框架内置了<code>vue-style-loader</code>以及 css 预处理器 loader,支持<code>*.vue</code>单个文件组件内的 <code>&lt;style&gt;</code>提取为单独 css 样式文件。也支持 CSS Modules。以下示例均开箱即用，无需额外配置。</p></blockquote><h3 id="scoped-css" tabindex="-1"><a class="header-anchor" href="#scoped-css" aria-hidden="true">#</a> Scoped CSS</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;scoped&quot;</span><span style="color:#C9D1D9;">&gt;style scoped&lt;/</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">style</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">scoped</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#79C0FF;">.scoped</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#79C0FF;">color</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">red</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#79C0FF;">font-size</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">18</span><span style="color:#FF7B72;">px</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">style</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="预处理器-less-scss" tabindex="-1"><a class="header-anchor" href="#预处理器-less-scss" aria-hidden="true">#</a> 预处理器 less/scss</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;scoped&quot;</span><span style="color:#C9D1D9;">&gt;style scoped&lt;/</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">style</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">lang</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;less&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">scoped</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#79C0FF;">.scoped</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#79C0FF;">color</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">red</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#79C0FF;">font-size</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">18</span><span style="color:#FF7B72;">px</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">style</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">style</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">lang</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;scss&quot;</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">scoped</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#79C0FF;">.scoped_scss</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#79C0FF;">color</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">red</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#79C0FF;">font-size</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">18</span><span style="color:#FF7B72;">px</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">style</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><em><em>当我们采用</em>.less 或者</em>.scss 文件编写样式时，也可以从 JavaScript 中导入 CSS，例如，import &#39;./foo.css&#39;**</p><h2 id="_12、css-modules" tabindex="-1"><a class="header-anchor" href="#_12、css-modules" aria-hidden="true">#</a> 12、CSS Modules</h2><ul><li>使用 style module</li></ul><blockquote><p>在你的 <code>&lt;style&gt;</code>上添加 module 特性,这个 module 特性指引 Vue Loader 作为名为 $style 的计算属性，向组件注入 CSS Modules 局部对象。然后你就可以在模板中通过一个动态类绑定来使用它了。</p></blockquote><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;"> :</span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;</span><span style="color:#C9D1D9;">$style.red</span><span style="color:#A5D6FF;">&quot;</span><span style="color:#C9D1D9;">&gt;This should be red&lt;/</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">style</span><span style="color:#C9D1D9;"> </span><span style="color:#79C0FF;">module</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#79C0FF;">.red</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#79C0FF;">color</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">red</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"><span style="color:#79C0FF;">.bold</span><span style="color:#C9D1D9;"> {</span></span>
<span class="line"><span style="color:#C9D1D9;">  </span><span style="color:#79C0FF;">font-weight</span><span style="color:#C9D1D9;">: </span><span style="color:#79C0FF;">bold</span><span style="color:#C9D1D9;">;</span></span>
<span class="line"><span style="color:#C9D1D9;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">style</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>详细原理查看官方文档<a href="https://vue-loader.vuejs.org/zh/guide/css-modules.html#css-modules" target="_blank" rel="noopener noreferrer">vue-loader<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></strong></p><ul><li>使用预处理器样</li></ul><blockquote><p>如果你的样式是从 JavaScript 中导入的，那么你只需要将把文件命名为<code>*.module.(less|scss|css)</code>。</p></blockquote><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:#0d1117;"><code><span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;"> :</span><span style="color:#79C0FF;">class</span><span style="color:#C9D1D9;">=</span><span style="color:#A5D6FF;">&quot;</span><span style="color:#C9D1D9;">styles.module</span><span style="color:#A5D6FF;">&quot;</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">    对于外部样式文件，框架默认支持以文件命名: xxx.module.(less|scss|css)</span></span>
<span class="line"><span style="color:#C9D1D9;">    开启使用css module</span></span>
<span class="line"><span style="color:#C9D1D9;">  &lt;/</span><span style="color:#7EE787;">p</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">template</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9;">&lt;</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"><span style="color:#FF7B72;">import</span><span style="color:#C9D1D9;"> styles </span><span style="color:#FF7B72;">from</span><span style="color:#C9D1D9;"> </span><span style="color:#A5D6FF;">&#39;./index.module.less&#39;</span></span>
<span class="line"><span style="color:#FF7B72;">export</span><span style="color:#FFA657;"> </span><span style="color:#FF7B72;">default</span><span style="color:#FFA657;"> {</span></span>
<span class="line"><span style="color:#FFA657;">  </span><span style="color:#D2A8FF;">data</span><span style="color:#FFA657;">() </span><span style="color:#C9D1D9;">{</span></span>
<span class="line"><span style="color:#C9D1D9;">    styles</span></span>
<span class="line"><span style="color:#C9D1D9;">  }</span><span style="color:#FFA657;">,</span></span>
<span class="line"><span style="color:#FFA657;">}</span></span>
<span class="line"><span style="color:#C9D1D9;">&lt;/</span><span style="color:#7EE787;">script</span><span style="color:#C9D1D9;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_13、案例" tabindex="-1"><a class="header-anchor" href="#_13、案例" aria-hidden="true">#</a> 13、案例</h2><ul><li><a href="https://github.com/Umajs/umajs-vue-ssr/tree/main/web/pages/css" target="_blank" rel="noopener noreferrer">css-module<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></li><li><a href="https://github.com/Umajs/umajs-vue-ssr/tree/main/web/pages/vuex" target="_blank" rel="noopener noreferrer">vuex<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></li><li><a href="https://github.com/Umajs/umajs-vue-ssr/tree/main/web/pages/router" target="_blank" rel="noopener noreferrer">vue-router<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></li><li><a href="https://github.com/Umajs/umajs-vue-ssr/tree/main/web/pages/element" target="_blank" rel="noopener noreferrer">elementUI<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></li><li><a href="https://github.com/Umajs/umajs-vue-ssr/tree/main/web/pages/andv" target="_blank" rel="noopener noreferrer">ant-design-vue<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></li></ul><h2 id="_14、源码" tabindex="-1"><a class="header-anchor" href="#_14、源码" aria-hidden="true">#</a> 14、源码</h2><ul><li><a href="https://github.com/dazjean/srejs" target="_blank" rel="noopener noreferrer">@srejs/vue<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></li><li><a href="https://github.com/Umajs/plugin-vue-ssr" target="_blank" rel="noopener noreferrer">@umajs/plugin-vue-ssr<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span></a></li></ul><p><strong>如果你觉得有用，请 star 支持下我们~谢谢！</strong></p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/Umajs/docs/edit/main/docs/服务端渲染/Vue-ssr.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑该页"><!--[--><!--]--> 在 GitHub 上编辑该页 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">在新窗口中打开</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">更新于: </span><span class="meta-item-info">2021/10/21 上午4:14:59</span></div><div class="meta-item contributors"><span class="meta-item-label">参与贡献: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: zunyi_zjj@163.com">dazjean</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: jiazengp@gmail.com">jiazengp</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--[--><footer class="docs-footer page-meta"><div class="footerContainer_lqbl4uxQ" role="presentation"><div class="docsInfo_AmViPB5c"> MIT Licensed | Copyright © 2005-present 58.com </div></div></footer><!--]--><!--]--></main><!--]--></div><!----><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="关闭"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewbox="0 0 1024 1024" arialabelledby="close"><title id="close" lang="en">close icon</title><g fill="currentColor"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></g></svg></button><div class="logo"><!--v-if--><div class="title"><h1></h1><p class="desc">该应用可以安装在您的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和您的操作系统安全地进行交互。</p></div></div></div><div class="content"><div class="highlight"><!--v-if--><!--v-if--></div><div class="description"><h3>详情</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">安装 <span></span></button><button class="cancel-button">取消</button></div></div></div></div><!--]--></div>
    <script src="/v2/assets/js/runtime~app.7c7bbcd8.js" defer></script><script src="/v2/assets/js/42.a7f24b1c.js" defer></script><script src="/v2/assets/js/app.574508d0.js" defer></script>
  </body>
</html>
